
# Ветка с парсером

## Сайты на парсинг:

<ul>
<li>Вайлбериз</li>
<li>Ламода</li>
</ul>

## Цель:

Парсингом с маркетплейсов собрать две обучающие размеченные выборки, состоящие из фотографий одежды, на которых есть одежда. Первая должна включать в себя >5000 фотографий товара "с витрины"([качественная, чистая](https://a.lmcdn.ru/img600x866/M/P/MP002XW1G0SE_26726427_1_v2_2x.jpg)). Вторая — >5000 фотографий, взятых из отзывов к одежде ([данные с шумами](https://a.lmcdn.ru/photoreview/?key=0b699489-c853-3c4d-7cc8-63614a3ddb69-photoreview-s3.jpeg))

## Распределение выборки

Общее количество фотографий — 12000 (пополам на обе выборки). Из них 6000 / 2 = 3000 качественных с каждого сайта и по 3000 — некачественных с каждого. Притом в любой из выборок примерно равное число мужской и женской одежды, но случайное количество конкретной (в т. ч. нулевое, т. к. товары парсятся по популярности)\
При сборке "make parse" начинает подтягивать данные в папку data. В папке data лежат папки с названием маркетплейса, откуда произошла подгрузка. В каждой папке маркетплейса лежат две папки: showcase (витринные фотографии) и review_gallery (запарсенные с отзывов). Уже в этих папках лежат папки с названиями категорий товаров, которые содержат изображения с расширением jpg/jpeg\
Пример: data/lamoda/showcase/Рубашка/sample_35.jpeg

## Прогресс (20:00, 02.05.2025)

Полностью готов парсер фотографий с Ламоды и с ВБ. Собрана выборка магазинов для ВБ. Готов подсчет количества как по категориям, так и в общем (с логированием).

## Алгоритм

Алгоритм для ламоды (для вб аналогично):
<ol>  
<li>Заходит во вкладку "Одежда" сначала в женский разделе (раздел без конкретной категории с популярными и рекомендуемыми товарами)</li>
<li>Парсит в массив ссылки позиций (60 на одной странице)</li>  
<li>Проходит массив, заглядывая в каждую ссылку и забирая фотографии с витрины и с секции отзывов. В витрине забирает первые три фотографии (перед, зад и перед без человека). В отзывах: если фотографий больше пяти, то они перемешиваются и возвращаются случайные 5 фото, в остальных случаях берет сколько есть</li>
<li>Открывает следующую страницу, снова парсит массив ссылок и т. д. Цикл продолжается 7 раз: среднее по количеству фотографий с одной позиции = 2.5 (5 / 2), 2.5 * 60 (среднее количество товаров на странице) = 150. ⎾ 2000 / 150 ⏋ = 14. 14 / 2 = 7 (поровну с женского и мужского разделов)</li>
<li>Переходит в мужской раздел и проделывает те же действия</li>  
</ol>

## Задачи

<ol>
<li>Расписать комментарии</li>
<li>Отрефакторить логику и взаимодействие между элементами класса Parser</li>
<li>Оптимизировать скачивание, проверки условий, создание переменных</li>
<li>...</li>
</ol>